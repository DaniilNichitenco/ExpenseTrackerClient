{"ast":null,"code":"import API from'../Api';export var SignIn=function SignIn(userForSignIn){return API.post(\"/account/login\",userForSignIn).then(function(response){console.log(response.data);if(response.data.accessToken){localStorage.setItem(\"user\",JSON.stringify(response.data));localStorage.setItem(\"authorized\",\"true\");}return response;}).catch(function(error){console.log(error.response);return error.response;});};export var SignOut=function SignOut(){localStorage.removeItem(\"user\");sessionStorage.clear();};export var SignUp=function SignUp(userForSignUp){return API.post(\"/account/signup\",userForSignUp).then(function(response){if(response.data.accessToken&&response.status==200){localStorage.setItem(\"user\",JSON.stringify(response.data));}localStorage.setItem(\"authorized\",\"true\");return response;}).catch(function(error){console.log(error.response);return error.response;});};export var GetCurrentUser=function GetCurrentUser(){var user=localStorage.getItem(\"user\");if(user&&user!=\"undefined\"){return JSON.parse(user);}return null;};export default{SignIn:SignIn,SignOut:SignOut,SignUp:SignUp,GetCurrentUser:GetCurrentUser};","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Services/auth.services/auth-service.ts"],"names":["API","SignIn","userForSignIn","post","then","response","console","log","data","accessToken","localStorage","setItem","JSON","stringify","catch","error","SignOut","removeItem","sessionStorage","clear","SignUp","userForSignUp","status","GetCurrentUser","user","getItem","parse"],"mappings":"AAGA,MAAOA,CAAAA,GAAP,KAAgB,QAAhB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,aAAD,CAAkC,CAEpD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,CAAS,gBAAT,CAA2BD,aAA3B,EACFE,IADE,CACG,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EAEA,GAAGH,QAAQ,CAACG,IAAT,CAAcC,WAAjB,CACA,CACIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B,EACAE,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,MAAnC,EACH,CAED,MAAON,CAAAA,QAAP,CACH,CAXE,EAYFS,KAZE,CAYI,SAAAC,KAAK,CAAI,CACZT,OAAO,CAACC,GAAR,CAAYQ,KAAK,CAACV,QAAlB,EACA,MAAOU,CAAAA,KAAK,CAACV,QAAb,CACH,CAfE,CAAP,CAgBH,CAlBM,CAoBP,MAAO,IAAMW,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACzBN,YAAY,CAACO,UAAb,CAAwB,MAAxB,EACAC,cAAc,CAACC,KAAf,GACH,CAHM,CAKP,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,aAAD,CAAkC,CAEpD,MAAOrB,CAAAA,GAAG,CAACG,IAAJ,CAAS,iBAAT,CAA4BkB,aAA5B,EACFjB,IADE,CACG,SAAAC,QAAQ,CAAI,CACd,GAAGA,QAAQ,CAACG,IAAT,CAAcC,WAAd,EAA6BJ,QAAQ,CAACiB,MAAT,EAAmB,GAAnD,CACA,CACIZ,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B,EACH,CAEDE,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,MAAnC,EACA,MAAON,CAAAA,QAAP,CACH,CATE,EAUFS,KAVE,CAUI,SAAAC,KAAK,CAAI,CACZT,OAAO,CAACC,GAAR,CAAYQ,KAAK,CAACV,QAAlB,EACA,MAAOU,CAAAA,KAAK,CAACV,QAAb,CACH,CAbE,CAAP,CAeH,CAjBM,CAmBP,MAAO,IAAMkB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAEhC,GAAIC,CAAAA,IAAI,CAAGd,YAAY,CAACe,OAAb,CAAqB,MAArB,CAAX,CACA,GAAGD,IAAI,EAAIA,IAAI,EAAI,WAAnB,CACA,CACI,MAAOZ,CAAAA,IAAI,CAACc,KAAL,CAAWF,IAAX,CAAP,CACH,CACD,MAAO,KAAP,CACH,CARM,CAUP,cACA,CACIvB,MAAM,CAANA,MADJ,CAEIe,OAAO,CAAPA,OAFJ,CAGII,MAAM,CAANA,MAHJ,CAIIG,cAAc,CAAdA,cAJJ,CADA","sourcesContent":["import useLocalStorage from '../../CustomHooks/StorageHooks/useLocalStorage';\r\nimport UserForSignIn from '../../Data/Models/User/UserForSignIn';\r\nimport UserForSignUp from '../../Data/Models/User/UserForSignUp';\r\nimport API from '../Api';\r\n\r\nexport const SignIn = (userForSignIn: UserForSignIn) => {\r\n\r\n    return API.post(\"/account/login\", userForSignIn)\r\n        .then(response => {\r\n            console.log(response.data);\r\n\r\n            if(response.data.accessToken) \r\n            {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n                localStorage.setItem(\"authorized\", \"true\");\r\n            }\r\n            \r\n            return response;\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            return error.response;\r\n        });\r\n}\r\n\r\nexport const SignOut = () => {\r\n    localStorage.removeItem(\"user\");\r\n    sessionStorage.clear();\r\n}\r\n\r\nexport const SignUp = (userForSignUp: UserForSignUp) => {\r\n    \r\n    return API.post(\"/account/signup\", userForSignUp)\r\n        .then(response => {\r\n            if(response.data.accessToken && response.status == 200)\r\n            {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n            }\r\n\r\n            localStorage.setItem(\"authorized\", \"true\");\r\n            return response;\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            return error.response;\r\n        })\r\n\r\n}\r\n\r\nexport const GetCurrentUser = () => {\r\n\r\n    let user = localStorage.getItem(\"user\");\r\n    if(user && user != \"undefined\")\r\n    {\r\n        return JSON.parse(user);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default \r\n{\r\n    SignIn,\r\n    SignOut,\r\n    SignUp,\r\n    GetCurrentUser\r\n}"]},"metadata":{},"sourceType":"module"}