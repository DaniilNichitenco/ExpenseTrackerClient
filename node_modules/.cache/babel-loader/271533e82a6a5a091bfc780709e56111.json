{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\vscommunity\\\\ExpenseTrackerFront\\\\expensetracker\\\\src\\\\Components\\\\Tables\\\\PurseExpenseTable.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\nimport { PursesDefault } from '../../Data/Models/Purses/default/PurseDefault';\nimport PursesService from '../../Services/purse.services/Purse.service';\nimport { CircularProgress } from '@material-ui/core';\nimport { ExpensesForSumDefault } from '../../Data/Models/Expenses/default/ExpenseForSumDefault';\nimport ExpenseService from '../../Services/expense.service/ExpenseService';\nimport clsx from 'clsx';\nimport CountDays from '../../Date/CountDays';\nconst StyledTableCell = withStyles(theme => createStyles({\n  headd: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => createStyles({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}))(TableRow);\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  rowHeader: {\n    fontWeight: 800\n  },\n  textTable: {\n    fontSize: 18\n  }\n});\n\nconst TableDailyData = ({\n  currencyCode\n}) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [dailyExpenseSum, setDailyExpenseSum, removeDailyExpenseSum] = useSessionStorage(\"dailyExpenseSum\", ExpensesForSumDefault);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (dailyExpenseSum == ExpensesForSumDefault) {\n      ExpenseService.GetExpensesSumForToday().then(result => {\n        if (result.response.status == 200) {\n          console.log(result.data);\n          setDailyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 16\n    }, this);\n  }\n\n  let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s(TableDailyData, \"fDkveTZxHAf7RMASGrgu1xOQnqc=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c = TableDailyData;\n\nconst TableMonthlyData = ({\n  currencyCode\n}) => {\n  _s2();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [monlyExpenseSum, setMonlyExpenseSum, removeMonlyExpenseSum] = useSessionStorage(\"monlyExpenseSum\", ExpensesForSumDefault);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (monlyExpenseSum == ExpensesForSumDefault) {\n      ExpenseService.GetExpensesSumForMonth().then(result => {\n        if (result.response.status == 200) {\n          setMonlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 16\n    }, this);\n  }\n\n  let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s2(TableMonthlyData, \"eu5uiuZjzwOIfZdk+ydJNLcHGQw=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c2 = TableMonthlyData;\n\nconst TableYearlyData = ({\n  currencyCode\n}) => {\n  _s3();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [yearlyExpenseSum, setYearlyExpenseSum, removeYearlyExpenseSum] = useSessionStorage(\"yearlyExpenseSum\", ExpensesForSumDefault);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (yearlyExpenseSum == ExpensesForSumDefault) {\n      ExpenseService.GetExpensesSumForYear().then(result => {\n        if (result.response.status == 200) {\n          setYearlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 16\n    }, this);\n  }\n\n  let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s3(TableYearlyData, \"/bvOQACZ24LOFlAD6bKm9WExAeg=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c3 = TableYearlyData;\n\nconst PurseExpenseTable = () => {\n  _s4();\n\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(true);\n  const [pursesData, setPursesData, removePursesData] = useSessionStorage(\"pursesData\", PursesDefault);\n  useEffect(() => {\n    if (pursesData == PursesDefault) {\n      PursesService.GetCurrentUserPurses().then(result => {\n        if (result.response.status == 200) {\n          setPursesData(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHeadd, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Purse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Daily expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Monthly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Yearly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: pursesData.map(purse => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          className: classes.textTable,\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            component: \"th\",\n            scope: \"row\",\n            align: \"center\",\n            className: clsx(classes.rowHeader, classes.textTable),\n            children: purse.currencyCode.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableDailyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill / CountDays()).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableMonthlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), \"/\", purse.bill.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableYearlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill * 12).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, purse.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(PurseExpenseTable, \"zN7nQaZi79zqYha7h47CFzN6HJc=\", false, function () {\n  return [useStyles, useSessionStorage];\n});\n\n_c4 = PurseExpenseTable;\nexport default PurseExpenseTable;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"TableDailyData\");\n$RefreshReg$(_c2, \"TableMonthlyData\");\n$RefreshReg$(_c3, \"TableYearlyData\");\n$RefreshReg$(_c4, \"PurseExpenseTable\");","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Components/Tables/PurseExpenseTable.tsx"],"names":["React","useEffect","useState","withStyles","createStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableRow","Paper","useSessionStorage","PursesDefault","PursesService","CircularProgress","ExpensesForSumDefault","ExpenseService","clsx","CountDays","StyledTableCell","theme","headd","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","root","action","hover","useStyles","table","minWidth","rowHeader","fontWeight","textTable","TableDailyData","currencyCode","isLoading","setIsLoading","dailyExpenseSum","setDailyExpenseSum","removeDailyExpenseSum","expenseForSum","GetExpensesSumForToday","then","result","response","status","console","log","data","catch","error","sum","find","e","undefined","TableMonthlyData","monlyExpenseSum","setMonlyExpenseSum","removeMonlyExpenseSum","GetExpensesSumForMonth","TableYearlyData","yearlyExpenseSum","setYearlyExpenseSum","removeYearlyExpenseSum","GetExpensesSumForYear","PurseExpenseTable","classes","pursesData","setPursesData","removePursesData","GetCurrentUserPurses","map","purse","toUpperCase","bill","toFixed","id"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAA4BC,YAA5B,EAA0CC,UAA1C,QAA4D,0BAA5D;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,iBAAP,MAA8B,kDAA9B;AAEA,SAASC,aAAT,QAA8B,+CAA9B;AACA,OAAOC,aAAP,MAA0B,6CAA1B;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,qBAAT,QAAsC,yDAAtC;AAEA,OAAOC,cAAP,MAA2B,+CAA3B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AAEA,MAAMC,eAAe,GAAGjB,UAAU,CAAEkB,KAAD,IACjCjB,YAAY,CAAC;AACXkB,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,MAAd,CAAqBC,KADjC;AAELC,IAAAA,KAAK,EAAEN,KAAK,CAACG,OAAN,CAAcC,MAAd,CAAqBG;AAFvB,GADI;AAKXC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN;AALK,CAAD,CADoB,CAAV,CAUtBtB,SAVsB,CAAxB;AAYA,MAAMuB,cAAc,GAAG5B,UAAU,CAAEkB,KAAD,IAChCjB,YAAY,CAAC;AACX4B,EAAAA,IAAI,EAAE;AACJ,0BAAsB;AACpBT,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcS,MAAd,CAAqBC;AADlB;AADlB;AADK,CAAD,CADmB,CAAV,CAQrBxB,QARqB,CAAvB;AAUA,MAAMyB,SAAS,GAAG9B,UAAU,CAAC;AAC3B+B,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADoB;AAI3BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UAAU,EAAE;AADL,GAJgB;AAO3BC,EAAAA,SAAS,EAAE;AACTV,IAAAA,QAAQ,EAAE;AADD;AAPgB,CAAD,CAA5B;;AAiBA,MAAMW,cAAwC,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAoB;AAAA;;AACjE,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B1C,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAAC2C,eAAD,EAAkBC,kBAAlB,EACFC,qBADE,IACuBnC,iBAAiB,CAAkB,iBAAlB,EAAqCI,qBAArC,CAD9C;AAGA,MAAIgC,aAAqB,GAAG,CAA5B;AAEI/C,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG4C,eAAe,IAAI7B,qBAAtB,EACA;AACIC,MAAAA,cAAc,CAACgC,sBAAf,GACKC,IADL,CACUC,MAAM,IAAI;AAEZ,YAAGA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,IAA0B,GAA7B,EACA;AACIC,UAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,IAAnB;AACAV,UAAAA,kBAAkB,CAACK,MAAM,CAACK,IAAR,CAAlB;AACAZ,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,OATL,EAUKa,KAVL,CAUWC,KAAK,IAAI;AACZJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,OAZL;AAaH,KAfD,MAiBA;AACId,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GArBQ,CAAT;;AAuBJ,MAAGD,SAAH,EACA;AACI,wBAAO,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAIgB,GAAG,GAAGd,eAAe,CAACe,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACnB,YAAF,IAAkBA,YAA5C,CAAV;;AAEA,MAAGiB,GAAG,IAAIG,SAAV,EACA;AACId,IAAAA,aAAa,GAAGW,GAAG,CAACA,GAApB;AACH;;AAED,sBAAQ;AAAA,cAAGX;AAAH,mBAAR;AACH,CA3CD;;GAAMP,c;UAG2B7B,iB;;;KAH3B6B,c;;AA6CN,MAAMsB,gBAA0C,GAAG,CAAC;AAACrB,EAAAA;AAAD,CAAD,KAAoB;AAAA;;AACnE,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B1C,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAAC8D,eAAD,EAAkBC,kBAAlB,EACFC,qBADE,IACuBtD,iBAAiB,CAAkB,iBAAlB,EAAqCI,qBAArC,CAD9C;AAGA,MAAIgC,aAAqB,GAAG,CAA5B;AAEI/C,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG+D,eAAe,IAAIhD,qBAAtB,EACA;AACIC,MAAAA,cAAc,CAACkD,sBAAf,GACKjB,IADL,CACUC,MAAM,IAAI;AAEZ,YAAGA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,IAA0B,GAA7B,EACA;AACIY,UAAAA,kBAAkB,CAACd,MAAM,CAACK,IAAR,CAAlB;AACAZ,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,OARL,EASKa,KATL,CASWC,KAAK,IAAI;AACZJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,OAXL;AAYH,KAdD,MAgBA;AACId,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GApBQ,CAAT;;AAsBJ,MAAGD,SAAH,EACA;AACI,wBAAO,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAIgB,GAAG,GAAGK,eAAe,CAACJ,IAAhB,CAAqBC,CAAC,IAAIA,CAAC,CAACnB,YAAF,IAAkBA,YAA5C,CAAV;;AAEA,MAAGiB,GAAG,IAAIG,SAAV,EACA;AACId,IAAAA,aAAa,GAAGW,GAAG,CAACA,GAApB;AACH;;AAED,sBAAQ;AAAA,cAAGX;AAAH,mBAAR;AACH,CA1CD;;IAAMe,gB;UAG2BnD,iB;;;MAH3BmD,gB;;AA4CN,MAAMK,eAAyC,GAAG,CAAC;AAAC1B,EAAAA;AAAD,CAAD,KAAoB;AAAA;;AAClE,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B1C,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACmE,gBAAD,EAAmBC,mBAAnB,EACFC,sBADE,IACwB3D,iBAAiB,CAAkB,kBAAlB,EAAsCI,qBAAtC,CAD/C;AAGA,MAAIgC,aAAqB,GAAG,CAA5B;AAEI/C,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGoE,gBAAgB,IAAIrD,qBAAvB,EACA;AACIC,MAAAA,cAAc,CAACuD,qBAAf,GACKtB,IADL,CACUC,MAAM,IAAI;AAEZ,YAAGA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,IAA0B,GAA7B,EACA;AACIiB,UAAAA,mBAAmB,CAACnB,MAAM,CAACK,IAAR,CAAnB;AACAZ,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,OARL,EASKa,KATL,CASWC,KAAK,IAAI;AACZJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,OAXL;AAYH,KAdD,MAgBA;AACId,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,GApBQ,CAAT;;AAsBJ,MAAGD,SAAH,EACA;AACI,wBAAO,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAIgB,GAAG,GAAGU,gBAAgB,CAACT,IAAjB,CAAsBC,CAAC,IAAIA,CAAC,CAACnB,YAAF,IAAkBA,YAA7C,CAAV;;AAEA,MAAGiB,GAAG,IAAIG,SAAV,EACA;AACId,IAAAA,aAAa,GAAGW,GAAG,CAACA,GAApB;AACH;;AAED,sBAAQ;AAAA,cAAGX;AAAH,mBAAR;AACH,CA1CD;;IAAMoB,e;UAG4BxD,iB;;;MAH5BwD,e;;AA4CN,MAAMK,iBAA0B,GAAG,MAAM;AAAA;;AACvC,QAAMC,OAAO,GAAGvC,SAAS,EAAzB;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4B1C,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACyE,UAAD,EAAaC,aAAb,EAA4BC,gBAA5B,IAAgDjE,iBAAiB,CAAU,YAAV,EAAwBC,aAAxB,CAAvE;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AAEd,QAAG0E,UAAU,IAAI9D,aAAjB,EACA;AACIC,MAAAA,aAAa,CAACgE,oBAAd,GACK5B,IADL,CACUC,MAAM,IAAI;AACZ,YAAGA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,IAA0B,GAA7B,EACA;AACIuB,UAAAA,aAAa,CAACzB,MAAM,CAACK,IAAR,CAAb;AACAZ,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ,OAPL,EAQKa,KARL,CAQWC,KAAK,IAAI;AACZJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACH,OAVL;AAWH,KAbD,MAeA;AACId,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AAEF,GArBQ,EAqBN,EArBM,CAAT;;AAuBA,MAAGD,SAAH,EACA;AACE,wBAAQ,QAAC,gBAAD;AAAkB,MAAA,KAAK,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,YAAR;AACD;;AAED,sBACE,QAAC,cAAD;AAAgB,IAAA,SAAS,EAAEhC,KAA3B;AAAA,2BACE,QAAC,KAAD;AAAO,MAAA,SAAS,EAAE+D,OAAO,CAACtC,KAA1B;AAAiC,oBAAW,kBAA5C;AAAA,8BACE,QAAC,UAAD;AAAA,+BACE,QAAC,QAAD;AAAA,kCACE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAEsC,OAAO,CAAClC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAEkC,OAAO,CAAClC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAEkC,OAAO,CAAClC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAEkC,OAAO,CAAClC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eASE,QAAC,SAAD;AAAA,kBACGmC,UAAU,CAACI,GAAX,CAAgBC,KAAD,iBACd,QAAC,cAAD;AAA+B,UAAA,SAAS,EAAEN,OAAO,CAAClC,SAAlD;AAAA,kCACE,QAAC,eAAD;AAAiB,YAAA,SAAS,EAAC,IAA3B;AAAgC,YAAA,KAAK,EAAC,KAAtC;AAA4C,YAAA,KAAK,EAAC,QAAlD;AAA2D,YAAA,SAAS,EAAEtB,IAAI,CAACwD,OAAO,CAACpC,SAAT,EAAoBoC,OAAO,CAAClC,SAA5B,CAA1E;AAAA,sBACGwC,KAAK,CAACtC,YAAN,CAAmBuC,WAAnB;AADH;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAEP,OAAO,CAAClC,SAAnD;AAAA,oCACE,QAAC,cAAD;AAAgB,cAAA,YAAY,EAAEwC,KAAK,CAACtC;AAApC;AAAA;AAAA;AAAA;AAAA,oBADF,OACuD,CAACsC,KAAK,CAACE,IAAN,GAAW/D,SAAS,EAArB,EAAyBgE,OAAzB,CAAiC,CAAjC,CADvD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAOE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAET,OAAO,CAAClC,SAAnD;AAAA,oCACE,QAAC,gBAAD;AAAkB,cAAA,YAAY,EAAEwC,KAAK,CAACtC;AAAtC;AAAA;AAAA;AAAA;AAAA,oBADF,OAC0DsC,KAAK,CAACE,IAAP,CAAaC,OAAb,CAAqB,CAArB,CADzD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,eAUE,QAAC,eAAD;AAAiB,YAAA,KAAK,EAAC,QAAvB;AAAgC,YAAA,SAAS,EAAET,OAAO,CAAClC,SAAnD;AAAA,oCACE,QAAC,eAAD;AAAiB,cAAA,YAAY,EAAEwC,KAAK,CAACtC;AAArC;AAAA;AAAA;AAAA;AAAA,oBADF,OACwD,CAACsC,KAAK,CAACE,IAAN,GAAW,EAAZ,EAAgBC,OAAhB,CAAwB,CAAxB,CADxD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA,WAAqBH,KAAK,CAACI,EAA3B;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAgCD,CAjED;;IAAMX,iB;UACYtC,S,EAEsCvB,iB;;;MAHlD6D,iB;AAmEN,eAAeA,iBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\r\nimport Purse from '../../Data/Models/Purses/Purse';\r\nimport { PursesDefault } from '../../Data/Models/Purses/default/PurseDefault';\r\nimport PursesService from '../../Services/purse.services/Purse.service';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport { ExpensesForSumDefault } from '../../Data/Models/Expenses/default/ExpenseForSumDefault';\r\nimport ExpenseForSum from '../../Data/Models/Expenses/ExpenseForSum';\r\nimport ExpenseService from '../../Services/expense.service/ExpenseService';\r\nimport clsx from 'clsx';\r\nimport CountDays from '../../Date/CountDays';\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    headd: {\r\n      backgroundColor: theme.palette.common.black,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.action.hover,\r\n      },\r\n    },\r\n  }),\r\n)(TableRow);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n  rowHeader: {\r\n      fontWeight: 800,\r\n  },\r\n  textTable: {\r\n    fontSize: 18\r\n  }\r\n});\r\n\r\ninterface TableDataProps\r\n{\r\n    currencyCode:string\r\n}\r\n\r\nconst TableDailyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [dailyExpenseSum, setDailyExpenseSum, \r\n        removeDailyExpenseSum] = useSessionStorage<ExpenseForSum[]>(\"dailyExpenseSum\", ExpensesForSumDefault);\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(dailyExpenseSum == ExpensesForSumDefault)\r\n            {\r\n                ExpenseService.GetExpensesSumForToday()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            console.log(result.data);\r\n                            setDailyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading)\r\n    {\r\n        return(<CircularProgress color=\"secondary\" />);\r\n    }\r\n\r\n    let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableMonthlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [monlyExpenseSum, setMonlyExpenseSum, \r\n        removeMonlyExpenseSum] = useSessionStorage<ExpenseForSum[]>(\"monlyExpenseSum\", ExpensesForSumDefault);\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(monlyExpenseSum == ExpensesForSumDefault)\r\n            {\r\n                ExpenseService.GetExpensesSumForMonth()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setMonlyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading)\r\n    {\r\n        return(<CircularProgress color=\"secondary\" />);\r\n    }\r\n\r\n    let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableYearlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [yearlyExpenseSum, setYearlyExpenseSum, \r\n        removeYearlyExpenseSum] = useSessionStorage<ExpenseForSum[]>(\"yearlyExpenseSum\", ExpensesForSumDefault);\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(yearlyExpenseSum == ExpensesForSumDefault)\r\n            {\r\n                ExpenseService.GetExpensesSumForYear()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setYearlyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading)\r\n    {\r\n        return(<CircularProgress color=\"secondary\" />);\r\n    }\r\n\r\n    let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst PurseExpenseTable:React.FC = () => {\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pursesData, setPursesData, removePursesData] = useSessionStorage<Purse[]>(\"pursesData\", PursesDefault);\r\n\r\n  useEffect(() => {\r\n    \r\n    if(pursesData == PursesDefault)\r\n    {\r\n        PursesService.GetCurrentUserPurses()\r\n            .then(result => {\r\n                if(result.response.status == 200)\r\n                {\r\n                    setPursesData(result.data);\r\n                    setIsLoading(false);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n    else\r\n    {\r\n        setIsLoading(false);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  if(isLoading)\r\n  {\r\n    return (<CircularProgress color=\"secondary\" />); \r\n  }\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"customized table\">\r\n        <TableHeadd>\r\n          <TableRow>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Purse</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Daily expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Monthly expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Yearly expenses/plan</StyledTableCell>\r\n          </TableRow>\r\n        </TableHeadd>\r\n        <TableBody>\r\n          {pursesData.map((purse) => (\r\n            <StyledTableRow key={purse.id} className={classes.textTable}>\r\n              <StyledTableCell component=\"th\" scope=\"row\" align=\"center\" className={clsx(classes.rowHeader, classes.textTable)}>\r\n                {purse.currencyCode.toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableDailyData currencyCode={purse.currencyCode}/>/{(purse.bill/CountDays()).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableMonthlyData currencyCode={purse.currencyCode}/>/{(purse.bill).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableYearlyData currencyCode={purse.currencyCode}/>/{(purse.bill*12).toFixed(2)}\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport default PurseExpenseTable;"]},"metadata":{},"sourceType":"module"}