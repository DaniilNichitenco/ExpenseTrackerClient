{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport useLocalStorage from '../../CustomHooks/StorageHooks/useLocalStorage';\nimport API from '../Api';\nexport const SignIn = userForSignIn => {\n  _s();\n\n  const [authorized, setIsAuthorized] = useLocalStorage(\"authorized\", false);\n  return API.post(\"/account/login\", userForSignIn).then(response => {\n    console.log(response.data);\n\n    if (response.data.accessToken) {\n      console.log(response.data.accessToken);\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n\n    setIsAuthorized(true);\n    return response;\n  }).catch(error => {\n    console.log(error.response);\n    return error.response;\n  });\n};\n\n_s(SignIn, \"iBHaH2NML9eGkWffLOyc76e29sM=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = SignIn;\nexport const SignOut = () => {\n  localStorage.removeItem(\"user\");\n  localStorage.setItem(\"authorized\", \"false\");\n};\n_c2 = SignOut;\nexport const SignUp = userForSignUp => {\n  return API.post(\"/account/signup\", userForSignUp).then(response => {\n    if (response.data.accessToken && response.status == 200) {\n      localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n\n    setIsAuthorized(true);\n    return response;\n  }).catch(error => {\n    console.log(error.response);\n    return error.response;\n  });\n};\n_c3 = SignUp;\nexport const GetCurrentUser = () => {\n  let user = localStorage.getItem(\"user\");\n\n  if (user && user != \"undefined\") {\n    return JSON.parse(user);\n  }\n\n  return null;\n};\n_c4 = GetCurrentUser;\nexport default {\n  SignIn,\n  SignOut,\n  SignUp,\n  GetCurrentUser\n};\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"SignIn\");\n$RefreshReg$(_c2, \"SignOut\");\n$RefreshReg$(_c3, \"SignUp\");\n$RefreshReg$(_c4, \"GetCurrentUser\");","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Services/auth.services/auth-service.ts"],"names":["useLocalStorage","API","SignIn","userForSignIn","authorized","setIsAuthorized","post","then","response","console","log","data","accessToken","localStorage","setItem","JSON","stringify","catch","error","SignOut","removeItem","SignUp","userForSignUp","status","GetCurrentUser","user","getItem","parse"],"mappings":";;AAAA,OAAOA,eAAP,MAA4B,gDAA5B;AAGA,OAAOC,GAAP,MAAgB,QAAhB;AAEA,OAAO,MAAMC,MAAM,GAAIC,aAAD,IAAkC;AAAA;;AAEpD,QAAM,CAACC,UAAD,EAAaC,eAAb,IAAgCL,eAAe,CAAC,YAAD,EAAe,KAAf,CAArD;AAEA,SAAOC,GAAG,CAACK,IAAJ,CAAS,gBAAT,EAA2BH,aAA3B,EACFI,IADE,CACGC,QAAQ,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AAEA,QAAGH,QAAQ,CAACG,IAAT,CAAcC,WAAjB,EACA;AACIH,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,WAA1B;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;AACH;;AAEDN,IAAAA,eAAe,CAAC,IAAD,CAAf;AACA,WAAOG,QAAP;AACH,GAZE,EAaFS,KAbE,CAaIC,KAAK,IAAI;AACZT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAK,CAACV,QAAlB;AACA,WAAOU,KAAK,CAACV,QAAb;AACH,GAhBE,CAAP;AAiBH,CArBM;;GAAMN,M;UAE6BF,e;;;KAF7BE,M;AAuBb,OAAO,MAAMiB,OAAO,GAAG,MAAM;AACzBN,EAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACAP,EAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,OAAnC;AACH,CAHM;MAAMK,O;AAKb,OAAO,MAAME,MAAM,GAAIC,aAAD,IAAkC;AAEpD,SAAOrB,GAAG,CAACK,IAAJ,CAAS,iBAAT,EAA4BgB,aAA5B,EACFf,IADE,CACGC,QAAQ,IAAI;AACd,QAAGA,QAAQ,CAACG,IAAT,CAAcC,WAAd,IAA6BJ,QAAQ,CAACe,MAAT,IAAmB,GAAnD,EACA;AACIV,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;AACH;;AAEDN,IAAAA,eAAe,CAAC,IAAD,CAAf;AACA,WAAOG,QAAP;AACH,GATE,EAUFS,KAVE,CAUIC,KAAK,IAAI;AACZT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAK,CAACV,QAAlB;AACA,WAAOU,KAAK,CAACV,QAAb;AACH,GAbE,CAAP;AAeH,CAjBM;MAAMa,M;AAmBb,OAAO,MAAMG,cAAc,GAAG,MAAM;AAEhC,MAAIC,IAAI,GAAGZ,YAAY,CAACa,OAAb,CAAqB,MAArB,CAAX;;AACA,MAAGD,IAAI,IAAIA,IAAI,IAAI,WAAnB,EACA;AACI,WAAOV,IAAI,CAACY,KAAL,CAAWF,IAAX,CAAP;AACH;;AACD,SAAO,IAAP;AACH,CARM;MAAMD,c;AAUb,eACA;AACItB,EAAAA,MADJ;AAEIiB,EAAAA,OAFJ;AAGIE,EAAAA,MAHJ;AAIIG,EAAAA;AAJJ,CADA","sourcesContent":["import useLocalStorage from '../../CustomHooks/StorageHooks/useLocalStorage';\r\nimport UserForSignIn from '../../Data/Models/User/UserForSignIn';\r\nimport UserForSignUp from '../../Data/Models/User/UserForSignUp';\r\nimport API from '../Api';\r\n\r\nexport const SignIn = (userForSignIn: UserForSignIn) => {\r\n\r\n    const [authorized, setIsAuthorized] = useLocalStorage(\"authorized\", false);\r\n\r\n    return API.post(\"/account/login\", userForSignIn)\r\n        .then(response => {\r\n            console.log(response.data);\r\n\r\n            if(response.data.accessToken) \r\n            {\r\n                console.log(response.data.accessToken);\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n            }\r\n            \r\n            setIsAuthorized(true);\r\n            return response;\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            return error.response;\r\n        });\r\n}\r\n\r\nexport const SignOut = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.setItem(\"authorized\", \"false\");\r\n}\r\n\r\nexport const SignUp = (userForSignUp: UserForSignUp) => {\r\n    \r\n    return API.post(\"/account/signup\", userForSignUp)\r\n        .then(response => {\r\n            if(response.data.accessToken && response.status == 200)\r\n            {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n            }\r\n\r\n            setIsAuthorized(true);\r\n            return response;\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response);\r\n            return error.response;\r\n        })\r\n\r\n}\r\n\r\nexport const GetCurrentUser = () => {\r\n\r\n    let user = localStorage.getItem(\"user\");\r\n    if(user && user != \"undefined\")\r\n    {\r\n        return JSON.parse(user);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport default \r\n{\r\n    SignIn,\r\n    SignOut,\r\n    SignUp,\r\n    GetCurrentUser\r\n}"]},"metadata":{},"sourceType":"module"}