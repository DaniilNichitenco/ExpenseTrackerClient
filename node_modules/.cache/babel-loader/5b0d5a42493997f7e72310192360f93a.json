{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\vscommunity\\\\ExpenseTrackerFront\\\\expensetracker\\\\src\\\\Components\\\\Diagrams\\\\TopicPercentsDiagram.tsx\",\n    _s = $RefreshSig$();\n\nimport { CircularProgress } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\nimport { GetPercentsExpensesPerTopic } from '../../Services/expense.service/ExpenseService';\nimport RadarDiagram from './Generic/RadarDiagram';\n\nconst randomColor = require('random-color');\n\nconst state = {\n  labels: ['January', 'February', 'March', 'April', 'May'],\n  datasets: [{\n    label: 'My First dataset',\n    backgroundColor: 'rgba(179,181,198,0.2)',\n    borderColor: 'rgba(179,181,198,1)',\n    pointBackgroundColor: 'rgba(179,181,198,1)',\n    pointBorderColor: '#fff',\n    pointHoverBackgroundColor: '#fff',\n    pointHoverBorderColor: 'rgba(179,181,198,1)',\n    data: [65, 59, 90, 81, 56]\n  }, {\n    label: 'My Second dataset',\n    backgroundColor: 'rgba(255,99,132,0.2)',\n    borderColor: 'rgba(255,99,132,1)',\n    pointBackgroundColor: 'rgba(255,99,132,1)',\n    pointBorderColor: '#fff',\n    pointHoverBackgroundColor: '#fff',\n    pointHoverBorderColor: 'rgba(255,99,132,1)',\n    data: [28, 48, 40, 19, 100]\n  }]\n};\nexport const TopicPercentsDiagram = () => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [percentsTopic, setPercentsTopic] = useSessionStorage(\"percentsTopic\", []);\n  useEffect(() => {\n    if (percentsTopic.length == 0) {\n      GetPercentsExpensesPerTopic().then(res => {\n        if (res.response.status == 200) {\n          setPercentsTopic([...res.data]);\n          setIsLoading(false);\n        }\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const getData = () => {\n    let datasets = [];\n    console.log(percentsTopic);\n\n    for (const percent of percentsTopic) {\n      let color = randomColor(0.99, 0.99);\n      let percents = [];\n      percent.percents.forEach(p => {\n        percents.push(p.sum);\n      });\n      datasets.push({\n        label: percent.currencyCode.toUpperCase(),\n        data: percents,\n        lineTension: 0.1,\n        fill: false,\n        backgroundColor: color.rgbString(),\n        borderColor: color.rgbString(),\n        pointBackgroundColor: '#fff',\n        pointBorderColor: color.rgbString(),\n        pointBorderWidth: 2,\n        pointHoverRadius: 9,\n        pointHoverBackgroundColor: color.rgbString(),\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 4,\n        pointHitRadius: 10\n      });\n    }\n\n    const data = {\n      labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      datasets: datasets\n    };\n    return data;\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {\n      color: \"secondary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(RadarDiagram, {\n    data: state\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 13\n  }, this);\n};\n\n_s(TopicPercentsDiagram, \"IzaH18rVMRqdb2B6E7ZhhjKb2Fk=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c = TopicPercentsDiagram;\nexport default TopicPercentsDiagram;\n\nvar _c;\n\n$RefreshReg$(_c, \"TopicPercentsDiagram\");","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Components/Diagrams/TopicPercentsDiagram.tsx"],"names":["CircularProgress","React","useEffect","useState","useSessionStorage","GetPercentsExpensesPerTopic","RadarDiagram","randomColor","require","state","labels","datasets","label","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","data","TopicPercentsDiagram","isLoading","setIsLoading","percentsTopic","setPercentsTopic","length","then","res","response","status","getData","console","log","percent","color","percents","forEach","p","push","sum","currencyCode","toUpperCase","lineTension","fill","rgbString","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointRadius","pointHitRadius"],"mappings":"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","sourcesContent":["import { CircularProgress } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\r\nimport PercentsTopicExpense from '../../Data/Models/Expenses/PercentsTopicExpense';\r\nimport { GetPercentsExpensesPerTopic } from '../../Services/expense.service/ExpenseService';\r\nimport RadarDiagram from './Generic/RadarDiagram';\r\n\r\nconst randomColor = require('random-color');\r\n\r\nconst state = {\r\n    labels: ['January', 'February', 'March',\r\n             'April', 'May'],\r\n    datasets: [\r\n      {\r\n        label: 'My First dataset',\r\n\t\t\tbackgroundColor: 'rgba(179,181,198,0.2)',\r\n\t\t\tborderColor: 'rgba(179,181,198,1)',\r\n\t\t\tpointBackgroundColor: 'rgba(179,181,198,1)',\r\n\t\t\tpointBorderColor: '#fff',\r\n\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\tpointHoverBorderColor: 'rgba(179,181,198,1)',\r\n\t\t\tdata: [65, 59, 90, 81, 56]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: 'My Second dataset',\r\n\t\t\tbackgroundColor: 'rgba(255,99,132,0.2)',\r\n\t\t\tborderColor: 'rgba(255,99,132,1)',\r\n\t\t\tpointBackgroundColor: 'rgba(255,99,132,1)',\r\n\t\t\tpointBorderColor: '#fff',\r\n\t\t\tpointHoverBackgroundColor: '#fff',\r\n\t\t\tpointHoverBorderColor: 'rgba(255,99,132,1)',\r\n\t\t\tdata: [28, 48, 40, 19, 100]\r\n\t\t}\r\n\r\n    ]\r\n  };\r\n\r\nexport const TopicPercentsDiagram: React.FC = () => {\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n    const [percentsTopic, setPercentsTopic] = useSessionStorage<PercentsTopicExpense[]>(\"percentsTopic\", []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif(percentsTopic.length == 0)\r\n\t\t{\r\n\t\t\tGetPercentsExpensesPerTopic()\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.response.status == 200)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetPercentsTopic([...res.data]);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst getData = () => {\r\n\t\tlet datasets:any[] = [];\r\n\t\tconsole.log(percentsTopic);\r\n\t\tfor (const percent of percentsTopic) \r\n\t\t{\r\n\t\t\tlet color = randomColor(0.99, 0.99);\r\n  \r\n\t\t\tlet percents: number[] = [];\r\n\r\n\t\t\tpercent.percents.forEach(p => {\r\n\t\t\t\tpercents.push(p.sum);\r\n\t\t\t});\r\n\t\t  \r\n  \r\n\t\t  datasets.push(\r\n\t\t\t{\r\n\t\t\t  label: percent.currencyCode.toUpperCase(),\r\n\t\t\t  data: percents,\r\n\t\t\t  lineTension: 0.1,\r\n\t\t\t  fill: false,\r\n\t\t\t  backgroundColor: color.rgbString(),\r\n\t\t\t  borderColor: color.rgbString(),\r\n\t\t\t  pointBackgroundColor: '#fff',\r\n\t\t\t  pointBorderColor: color.rgbString(),\r\n\t\t\t  pointBorderWidth: 2,\r\n\t\t\t  pointHoverRadius: 9,\r\n\t\t\t  pointHoverBackgroundColor: color.rgbString(),\r\n\t\t\t  pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n\t\t\t  pointHoverBorderWidth: 2,\r\n\t\t\t  pointRadius: 4,\r\n\t\t\t  pointHitRadius: 10,\r\n\t\t\t  }\r\n\t\t  )\r\n\t\t}\r\n  \r\n\t\tconst data = {\r\n\t\t  labels: [\r\n\t\t\t'January', 'February', 'March',\r\n\t\t\t'April', 'May', 'June',\r\n\t\t\t'July', 'August', 'September', 'October',\r\n\t\t\t'November', 'December'\r\n\t\t\t\t  ],\r\n\t\t  datasets: datasets\r\n\t\t}\r\n  \r\n\t\treturn data;\r\n\t  }\r\n\r\n\tif(isLoading)\r\n    {\r\n      return (<CircularProgress color=\"secondary\" />);\r\n    }\t\r\n\r\n    return (<RadarDiagram data={state} />);\r\n}\r\n\r\nexport default TopicPercentsDiagram;"]},"metadata":{},"sourceType":"module"}