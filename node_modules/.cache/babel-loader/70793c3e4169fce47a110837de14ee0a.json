{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\vscommunity\\\\ExpenseTrackerFront\\\\expensetracker\\\\src\\\\Components\\\\Tables\\\\PurseExpenseTable.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\nimport { getCurrentUserPurses } from '../../Services/purse.services/Purse.service';\nimport { CircularProgress, Grid, Typography } from '@material-ui/core';\nimport { getExpensesSumForMonth, getExpensesSumForToday, getExpensesSumForYear } from '../../Services/expense.service/ExpenseService';\nimport clsx from 'clsx';\nimport { getDaysInMonth } from 'date-fns';\nconst StyledTableCell = withStyles(theme => createStyles({\n  head: {\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => createStyles({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}))(TableRow);\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  rowHeader: {\n    fontWeight: 800\n  },\n  textTable: {\n    fontSize: 18\n  }\n});\n\nconst TableDailyData = ({\n  currencyCode\n}) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [dailyExpenseSum, setDailyExpenseSum] = useSessionStorage(\"dailyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (dailyExpenseSum == undefined) {\n      getExpensesSumForToday().then(result => {\n        if (result.response.status == 200) {\n          setDailyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading || dailyExpenseSum == undefined) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this);\n  }\n\n  let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s(TableDailyData, \"XnuWw/VtHl74tUKHtRXDtFFe56I=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c = TableDailyData;\n\nconst TableMonthlyData = ({\n  currencyCode\n}) => {\n  _s2();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [monlyExpenseSum, setMonlyExpenseSum] = useSessionStorage(\"monlyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (monlyExpenseSum == undefined) {\n      getExpensesSumForMonth().then(result => {\n        if (result.response.status == 200) {\n          setMonlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading || monlyExpenseSum == undefined) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }, this);\n  }\n\n  let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s2(TableMonthlyData, \"qqe4vK9iTVdoZilhfEN5RMl/tnA=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c2 = TableMonthlyData;\n\nconst TableYearlyData = ({\n  currencyCode\n}) => {\n  _s3();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [yearlyExpenseSum, setYearlyExpenseSum] = useSessionStorage(\"yearlyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (yearlyExpenseSum == undefined) {\n      getExpensesSumForYear().then(result => {\n        if (result.response.status == 200) {\n          setYearlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading || yearlyExpenseSum == undefined) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }, this);\n  }\n\n  let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s3(TableYearlyData, \"rG4UATsE9WCyy308+YFJzYU/Rx8=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c3 = TableYearlyData;\n\nconst PurseExpenseTable = () => {\n  _s4();\n\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(true);\n  const [pursesData, setPursesData] = useSessionStorage(\"pursesData\", []);\n  useEffect(() => {\n    if (pursesData == []) {\n      getCurrentUserPurses().then(result => {\n        if (result.response.status == 200) {\n          setPursesData(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Purse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Daily expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Monthly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Yearly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [pursesData.length == 0 && /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          className: classes.textTable,\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), pursesData.map(purse => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          className: classes.textTable,\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            component: \"th\",\n            scope: \"row\",\n            align: \"center\",\n            className: clsx(classes.rowHeader, classes.textTable),\n            children: purse.currencyCode.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableDailyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill / getDaysInMonth(new Date())).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableMonthlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this), \"/\", purse.bill.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableYearlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill * 12).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)]\n        }, purse.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(PurseExpenseTable, \"i3/SfwVSoNO+DtfWLGYviO+mGko=\", false, function () {\n  return [useStyles, useSessionStorage];\n});\n\n_c4 = PurseExpenseTable;\nexport default PurseExpenseTable;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"TableDailyData\");\n$RefreshReg$(_c2, \"TableMonthlyData\");\n$RefreshReg$(_c3, \"TableYearlyData\");\n$RefreshReg$(_c4, \"PurseExpenseTable\");","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Components/Tables/PurseExpenseTable.tsx"],"names":["React","useEffect","useState","withStyles","createStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useSessionStorage","getCurrentUserPurses","CircularProgress","Grid","Typography","getExpensesSumForMonth","getExpensesSumForToday","getExpensesSumForYear","clsx","getDaysInMonth","StyledTableCell","theme","head","backgroundColor","palette","primary","dark","color","common","white","body","fontSize","StyledTableRow","root","action","hover","useStyles","table","minWidth","rowHeader","fontWeight","textTable","TableDailyData","currencyCode","isLoading","setIsLoading","dailyExpenseSum","setDailyExpenseSum","undefined","expenseForSum","then","result","response","status","data","catch","error","console","log","sum","find","e","TableMonthlyData","monlyExpenseSum","setMonlyExpenseSum","TableYearlyData","yearlyExpenseSum","setYearlyExpenseSum","PurseExpenseTable","classes","pursesData","setPursesData","length","map","purse","toUpperCase","bill","Date","toFixed","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\r\nimport Purse from '../../Data/Models/Purses/Purse';\r\nimport { getCurrentUserPurses } from '../../Services/purse.services/Purse.service';\r\nimport { CircularProgress, Grid, Typography } from '@material-ui/core';\r\nimport ExpenseForSum from '../../Data/Models/Expenses/ExpenseForSum';\r\nimport { getExpensesSumForMonth, getExpensesSumForToday, \r\n  getExpensesSumForYear } from '../../Services/expense.service/ExpenseService';\r\nimport clsx from 'clsx';\r\nimport { getDaysInMonth } from 'date-fns'\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    head: {\r\n      backgroundColor: theme.palette.primary.dark,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }),\r\n)(TableCell); \r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.action.hover,\r\n      },\r\n    },\r\n  }),\r\n)(TableRow);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n  rowHeader: {\r\n      fontWeight: 800,\r\n  },\r\n  textTable: {\r\n    fontSize: 18\r\n  }\r\n});\r\n\r\ninterface TableDataProps\r\n{\r\n    currencyCode:string\r\n}\r\n\r\nconst TableDailyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [dailyExpenseSum, setDailyExpenseSum] = useSessionStorage<ExpenseForSum[] | undefined>(\r\n      \"dailyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(dailyExpenseSum == undefined)\r\n            {\r\n                getExpensesSumForToday()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setDailyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading || dailyExpenseSum == undefined)\r\n    {\r\n        return(\r\n        <Grid container xs={12} justify=\"center\">\r\n          <CircularProgress color=\"secondary\" />\r\n        </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableMonthlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [monlyExpenseSum, setMonlyExpenseSum] = useSessionStorage<ExpenseForSum[] | undefined>(\r\n      \"monlyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n          if(monlyExpenseSum == undefined)\r\n          {\r\n            getExpensesSumForMonth()\r\n                .then(result => {\r\n                if(result.response.status == 200)\r\n                {\r\n                    setMonlyExpenseSum(result.data);\r\n                    setIsLoading(false);\r\n                }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n          }\r\n          else\r\n          {\r\n            setIsLoading(false);\r\n          }\r\n        });\r\n\r\n    if(isLoading || monlyExpenseSum == undefined)\r\n    {\r\n        return(\r\n          <Grid container xs={12} justify=\"center\">\r\n            <CircularProgress color=\"secondary\" />\r\n          </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableYearlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [yearlyExpenseSum, setYearlyExpenseSum] = useSessionStorage<ExpenseForSum[] | undefined>(\r\n      \"yearlyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(yearlyExpenseSum == undefined)\r\n            {\r\n                getExpensesSumForYear()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setYearlyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading || yearlyExpenseSum == undefined)\r\n    {\r\n        return(\r\n          <Grid container xs={12} justify=\"center\">\r\n            <CircularProgress color=\"secondary\" />\r\n          </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst PurseExpenseTable:React.FC = () => {\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pursesData, setPursesData] = useSessionStorage<Purse[]>(\"pursesData\", []);\r\n\r\n  useEffect(() => {\r\n    \r\n    if(pursesData == [])\r\n    {\r\n        getCurrentUserPurses()\r\n            .then(result => {\r\n                if(result.response.status == 200)\r\n                {\r\n                    setPursesData(result.data);\r\n                    setIsLoading(false);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n    else\r\n    {\r\n        setIsLoading(false);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  if(isLoading)\r\n  {\r\n    return (\r\n      <Grid container xs={12} justify=\"center\">\r\n        <CircularProgress color=\"secondary\" />\r\n      </Grid>\r\n      ); \r\n  }\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"customized table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Purse</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Daily expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Monthly expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Yearly expenses/plan</StyledTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {pursesData.length == 0 && \r\n          <StyledTableRow className={classes.textTable}>\r\n            <>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            </>\r\n          </StyledTableRow>\r\n          }\r\n          {pursesData.map((purse) => (\r\n            <StyledTableRow key={purse.id} className={classes.textTable}>\r\n              <StyledTableCell component=\"th\" scope=\"row\" align=\"center\" \r\n                className={clsx(classes.rowHeader, classes.textTable)}>\r\n                {purse.currencyCode.toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableDailyData currencyCode={purse.currencyCode}/>/{(purse.bill/getDaysInMonth(new Date())).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableMonthlyData currencyCode={purse.currencyCode}/>/{(purse.bill).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableYearlyData currencyCode={purse.currencyCode}/>/{(purse.bill*12).toFixed(2)}\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport default PurseExpenseTable;"]},"metadata":{},"sourceType":"module"}