{"ast":null,"code":"import _slicedToArray from\"D:/vscommunity/ExpenseTrackerFront/expensetracker/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{CircularProgress,Grid,useTheme}from'@material-ui/core';import React,{useEffect,useState}from'react';import{Route,Redirect,Switch,useHistory}from\"react-router-dom\";import SignOutButtom from'../Components/Buttons/SignOutButtom';import AppContent from'../Components/Content/AppContent';import AppbarGeneric from'../Components/Appbar/AppbarGeneric';import LeftMenu from'../Components/LeftMenu/LeftMenu';import HomePage from'../Components/Pages/HomePage';import ProfilePage from'../Components/Pages/ProfilePage';import StatisticPage from'../Components/Pages/StatisticPage';import useSessionStorage from'../CustomHooks/StorageHooks/useSessionStorage';import{SignOut}from'../Services/auth.services/auth-service';import{GetCurrentUserData}from'../Services/user.services/User.service';import HomeIcon from'@material-ui/icons/Home';import PursesPage from'../Components/Pages/PursesPage';import AdminRouter from'./AdminRouter';import TopicsPage from'../Components/Pages/TopicsPage';var AuthorizedRouter=function AuthorizedRouter(){var history=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useSessionStorage=useSessionStorage(\"userData\",undefined),_useSessionStorage2=_slicedToArray(_useSessionStorage,2),userData=_useSessionStorage2[0],setUserData=_useSessionStorage2[1];var theme=useTheme();useEffect(function(){GetCurrentUserData().then(function(result){if(result.status==200){setUserData(result.data);setIsLoading(false);}else{SignOut();history.push('/');}}).catch(function(error){console.log(error);history.push('/');});},[]);var leftIcon=function leftIcon(){return/*#__PURE__*/_jsx(HomeIcon,{onClick:function onClick(){history.push('/au/home');}});};if(isLoading||userData==undefined){return/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",children:/*#__PURE__*/_jsx(CircularProgress,{color:\"secondary\"})});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(LeftMenu,{}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingLeft:256},children:[/*#__PURE__*/_jsx(AppbarGeneric,{leftMenu:leftIcon(),title:\"Expense Tracker Web Application\",rightButtons:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(SignOutButtom,{style:{backgroundColor:theme.palette.primary.light,width:100}})})}),/*#__PURE__*/_jsx(AppContent,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/au/home\",component:HomePage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/au/profile\",component:ProfilePage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/au/statistic\",component:StatisticPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/au/purses\",component:PursesPage}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/au/topics\",component:TopicsPage}),/*#__PURE__*/_jsx(Route,{path:\"/au/admin\",component:AdminRouter}),/*#__PURE__*/_jsx(Redirect,{to:\"/au/home\"})]})})]})]});};export default AuthorizedRouter;","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Router/AutorizedRouter.tsx"],"names":["CircularProgress","Grid","useTheme","React","useEffect","useState","Route","Redirect","Switch","useHistory","SignOutButtom","AppContent","AppbarGeneric","LeftMenu","HomePage","ProfilePage","StatisticPage","useSessionStorage","SignOut","GetCurrentUserData","HomeIcon","PursesPage","AdminRouter","TopicsPage","AuthorizedRouter","history","isLoading","setIsLoading","undefined","userData","setUserData","theme","then","result","status","data","push","catch","error","console","log","leftIcon","paddingLeft","backgroundColor","palette","primary","light","width"],"mappings":"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","sourcesContent":["import { CircularProgress, Grid, useTheme } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {\r\n    Route, Redirect, Switch, useHistory\r\n  } from \"react-router-dom\";\r\nimport SignOutButtom from '../Components/Buttons/SignOutButtom';\r\nimport AppContent from '../Components/Content/AppContent';\r\nimport AppbarGeneric from '../Components/Appbar/AppbarGeneric';\r\nimport LeftMenu from '../Components/LeftMenu/LeftMenu';\r\nimport HomePage from '../Components/Pages/HomePage';\r\nimport ProfilePage from '../Components/Pages/ProfilePage';\r\nimport StatisticPage from '../Components/Pages/StatisticPage';\r\nimport useSessionStorage from '../CustomHooks/StorageHooks/useSessionStorage';\r\nimport User from '../Data/Models/User/User';\r\nimport { SignOut } from '../Services/auth.services/auth-service';\r\nimport { GetCurrentUserData } from '../Services/user.services/User.service';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PursesPage from '../Components/Pages/PursesPage';\r\nimport AdminRouter from './AdminRouter';\r\nimport TopicsPage from '../Components/Pages/TopicsPage';\r\n\r\n  const AuthorizedRouter:React.FC = () => {\r\n\r\n      const history = useHistory();\r\n      const [isLoading, setIsLoading] = useState(true);\r\n      const [userData, setUserData] = useSessionStorage<User | undefined>(\r\n        \"userData\", undefined);\r\n      const theme = useTheme();\r\n\r\n      useEffect(() => {\r\n            GetCurrentUserData().then(result => {\r\n              if(result.status == 200)\r\n              {\r\n                setUserData(result.data);\r\n                setIsLoading(false);\r\n              }\r\n              else\r\n              {\r\n                SignOut();\r\n                history.push('/');\r\n              }\r\n            })\r\n            .catch(error => {\r\n              console.log(error);\r\n              history.push('/');\r\n            });\r\n      }, []);\r\n\r\n      const leftIcon = () => {\r\n        \r\n        return(\r\n            <HomeIcon onClick={() => {history.push('/au/home');}} />\r\n            );\r\n        }\r\n\r\n    if(isLoading || userData == undefined)\r\n    {\r\n      return (\r\n        <Grid container justify=\"center\">\r\n          <CircularProgress color=\"secondary\" />\r\n        </Grid>\r\n      );\r\n    }\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <LeftMenu />\r\n            <div style={{paddingLeft: 256}}>\r\n                <AppbarGeneric leftMenu={leftIcon()} title=\"Expense Tracker Web Application\"\r\n                rightButtons={<><SignOutButtom style={{backgroundColor: theme.palette.primary.light, width: 100}} /></>} />\r\n                <AppContent>\r\n                  <Switch>\r\n                    <Route exact path=\"/au/home\" component={HomePage} />\r\n                    <Route exact path=\"/au/profile\" component={ProfilePage} />\r\n                    <Route exact path=\"/au/statistic\" component={StatisticPage} />\r\n                    <Route exact path=\"/au/purses\" component={PursesPage} />\r\n                    <Route exact path=\"/au/topics\" component={TopicsPage} />\r\n                    <Route path=\"/au/admin\" component={AdminRouter} />\r\n                    <Redirect to=\"/au/home\" />\r\n                  </Switch>\r\n                </AppContent>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n  }\r\n\r\n  export default AuthorizedRouter;"]},"metadata":{},"sourceType":"module"}