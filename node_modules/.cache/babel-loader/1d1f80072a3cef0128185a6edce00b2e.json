{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\vscommunity\\\\ExpenseTrackerFront\\\\expensetracker\\\\src\\\\Components\\\\Tables\\\\PurseExpenseTable.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { withStyles, createStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\nimport PursesService from '../../Services/purse.services/Purse.service';\nimport { CircularProgress, Grid, Typography } from '@material-ui/core';\nimport ExpenseService from '../../Services/expense.service/ExpenseService';\nimport clsx from 'clsx';\nimport CountDays from '../../Date/CountDays';\nconst StyledTableCell = withStyles(theme => createStyles({\n  head: {\n    backgroundColor: theme.palette.primary.dark,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => createStyles({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}))(TableRow);\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  rowHeader: {\n    fontWeight: 800\n  },\n  textTable: {\n    fontSize: 18\n  }\n});\n\nconst TableDailyData = ({\n  currencyCode\n}) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [dailyExpenseSum, setDailyExpenseSum] = useSessionStorage(\"dailyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (dailyExpenseSum.length == 0) {\n      ExpenseService.GetExpensesSumForToday().then(result => {\n        if (result.response.status == 200) {\n          setDailyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this);\n  }\n\n  let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s(TableDailyData, \"XnuWw/VtHl74tUKHtRXDtFFe56I=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c = TableDailyData;\n\nconst TableMonthlyData = ({\n  currencyCode\n}) => {\n  _s2();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [monlyExpenseSum, setMonlyExpenseSum] = useSessionStorage(\"monlyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (monlyExpenseSum == undefined) {\n      ExpenseService.GetExpensesSumForMonth().then(result => {\n        if (result.response.status == 200) {\n          setMonlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading || monlyExpenseSum == undefined) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }, this);\n  }\n\n  let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s2(TableMonthlyData, \"qqe4vK9iTVdoZilhfEN5RMl/tnA=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c2 = TableMonthlyData;\n\nconst TableYearlyData = ({\n  currencyCode\n}) => {\n  _s3();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [yearlyExpenseSum, setYearlyExpenseSum] = useSessionStorage(\"yearlyExpenseSum\", undefined);\n  let expenseForSum = 0;\n  useEffect(() => {\n    if (yearlyExpenseSum == undefined) {\n      ExpenseService.GetExpensesSumForYear().then(result => {\n        if (result.response.status == 200) {\n          setYearlyExpenseSum(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  });\n\n  if (isLoading || yearlyExpenseSum == undefined) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }, this);\n  }\n\n  let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\n\n  if (sum != undefined) {\n    expenseForSum = sum.sum;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: expenseForSum\n  }, void 0, false);\n};\n\n_s3(TableYearlyData, \"rG4UATsE9WCyy308+YFJzYU/Rx8=\", false, function () {\n  return [useSessionStorage];\n});\n\n_c3 = TableYearlyData;\n\nconst PurseExpenseTable = () => {\n  _s4();\n\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(true);\n  const [pursesData, setPursesData] = useSessionStorage(\"pursesData\", []);\n  useEffect(() => {\n    if (pursesData == []) {\n      PursesService.GetCurrentUserPurses().then(result => {\n        if (result.response.status == 200) {\n          setPursesData(result.data);\n          setIsLoading(false);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      xs: 12,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      className: classes.table,\n      \"aria-label\": \"customized table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Purse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Daily expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Monthly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: \"Yearly expenses/plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [pursesData.length == 0 && /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          className: classes.textTable,\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              className: classes.textTable,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"There are not any purses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), pursesData.map(purse => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          className: classes.textTable,\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            component: \"th\",\n            scope: \"row\",\n            align: \"center\",\n            className: clsx(classes.rowHeader, classes.textTable),\n            children: purse.currencyCode.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableDailyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill / CountDays()).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableMonthlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), \"/\", purse.bill.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            className: classes.textTable,\n            children: [/*#__PURE__*/_jsxDEV(TableYearlyData, {\n              currencyCode: purse.currencyCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this), \"/\", (purse.bill * 12).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)]\n        }, purse.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(PurseExpenseTable, \"i3/SfwVSoNO+DtfWLGYviO+mGko=\", false, function () {\n  return [useStyles, useSessionStorage];\n});\n\n_c4 = PurseExpenseTable;\nexport default PurseExpenseTable;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"TableDailyData\");\n$RefreshReg$(_c2, \"TableMonthlyData\");\n$RefreshReg$(_c3, \"TableYearlyData\");\n$RefreshReg$(_c4, \"PurseExpenseTable\");","map":{"version":3,"sources":["D:/vscommunity/ExpenseTrackerFront/expensetracker/src/Components/Tables/PurseExpenseTable.tsx"],"names":["React","useEffect","useState","withStyles","createStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useSessionStorage","PursesService","CircularProgress","Grid","Typography","ExpenseService","clsx","CountDays","StyledTableCell","theme","head","backgroundColor","palette","primary","dark","color","common","white","body","fontSize","StyledTableRow","root","action","hover","useStyles","table","minWidth","rowHeader","fontWeight","textTable","TableDailyData","currencyCode","isLoading","setIsLoading","dailyExpenseSum","setDailyExpenseSum","undefined","expenseForSum","length","GetExpensesSumForToday","then","result","response","status","data","catch","error","console","log","sum","find","e","TableMonthlyData","monlyExpenseSum","setMonlyExpenseSum","GetExpensesSumForMonth","TableYearlyData","yearlyExpenseSum","setYearlyExpenseSum","GetExpensesSumForYear","PurseExpenseTable","classes","pursesData","setPursesData","GetCurrentUserPurses","map","purse","toUpperCase","bill","toFixed","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { withStyles, Theme, createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport useSessionStorage from '../../CustomHooks/StorageHooks/useSessionStorage';\r\nimport Purse from '../../Data/Models/Purses/Purse';\r\nimport PursesService from '../../Services/purse.services/Purse.service';\r\nimport { CircularProgress, Grid, Typography } from '@material-ui/core';\r\nimport ExpenseForSum from '../../Data/Models/Expenses/ExpenseForSum';\r\nimport ExpenseService from '../../Services/expense.service/ExpenseService';\r\nimport clsx from 'clsx';\r\nimport CountDays from '../../Date/CountDays';\r\n\r\nconst StyledTableCell = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    head: {\r\n      backgroundColor: theme.palette.primary.dark,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }),\r\n)(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.action.hover,\r\n      },\r\n    },\r\n  }),\r\n)(TableRow);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n  rowHeader: {\r\n      fontWeight: 800,\r\n  },\r\n  textTable: {\r\n    fontSize: 18\r\n  }\r\n});\r\n\r\ninterface TableDataProps\r\n{\r\n    currencyCode:string\r\n}\r\n\r\nconst TableDailyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [dailyExpenseSum, setDailyExpenseSum] = useSessionStorage<ExpenseForSum[] >(\r\n      \"dailyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(dailyExpenseSum.length == 0)\r\n            {\r\n                ExpenseService.GetExpensesSumForToday()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setDailyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading)\r\n    {\r\n        return(\r\n        <Grid container xs={12} justify=\"center\">\r\n          <CircularProgress color=\"secondary\" />\r\n        </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = dailyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableMonthlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [monlyExpenseSum, setMonlyExpenseSum] = useSessionStorage<ExpenseForSum[] | undefined>(\r\n      \"monlyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n          if(monlyExpenseSum == undefined)\r\n          {\r\n            ExpenseService.GetExpensesSumForMonth()\r\n                .then(result => {\r\n                if(result.response.status == 200)\r\n                {\r\n                    setMonlyExpenseSum(result.data);\r\n                    setIsLoading(false);\r\n                }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n          }\r\n          else\r\n          {\r\n            setIsLoading(false);\r\n          }\r\n        });\r\n\r\n    if(isLoading || monlyExpenseSum == undefined)\r\n    {\r\n        return(\r\n          <Grid container xs={12} justify=\"center\">\r\n            <CircularProgress color=\"secondary\" />\r\n          </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = monlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst TableYearlyData: React.FC<TableDataProps> = ({currencyCode}) => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [yearlyExpenseSum, setYearlyExpenseSum] = useSessionStorage<ExpenseForSum[] | undefined>(\r\n      \"yearlyExpenseSum\", undefined\r\n      );\r\n\r\n    let expenseForSum: number = 0;\r\n\r\n        useEffect(() => {\r\n            if(yearlyExpenseSum == undefined)\r\n            {\r\n                ExpenseService.GetExpensesSumForYear()\r\n                    .then(result => {\r\n\r\n                        if(result.response.status == 200)\r\n                        {\r\n                            setYearlyExpenseSum(result.data);\r\n                            setIsLoading(false);\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n            else\r\n            {\r\n                setIsLoading(false);\r\n            }\r\n        });\r\n\r\n    if(isLoading || yearlyExpenseSum == undefined)\r\n    {\r\n        return(\r\n          <Grid container xs={12} justify=\"center\">\r\n            <CircularProgress color=\"secondary\" />\r\n          </Grid>\r\n          );\r\n    }\r\n\r\n    let sum = yearlyExpenseSum.find(e => e.currencyCode == currencyCode);\r\n\r\n    if(sum != undefined)\r\n    {\r\n        expenseForSum = sum.sum;\r\n    }\r\n\r\n    return (<>{expenseForSum}</>);\r\n}\r\n\r\nconst PurseExpenseTable:React.FC = () => {\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [pursesData, setPursesData] = useSessionStorage<Purse[]>(\"pursesData\", []);\r\n\r\n  useEffect(() => {\r\n    \r\n    if(pursesData == [])\r\n    {\r\n        PursesService.GetCurrentUserPurses()\r\n            .then(result => {\r\n                if(result.response.status == 200)\r\n                {\r\n                    setPursesData(result.data);\r\n                    setIsLoading(false);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n            })\r\n    }\r\n    else\r\n    {\r\n        setIsLoading(false);\r\n    }\r\n    \r\n  }, []);\r\n\r\n  if(isLoading)\r\n  {\r\n    return (\r\n      <Grid container xs={12} justify=\"center\">\r\n        <CircularProgress color=\"secondary\" />\r\n      </Grid>\r\n      ); \r\n  }\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"customized table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Purse</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Daily expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Monthly expenses/plan</StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>Yearly expenses/plan</StyledTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {pursesData.length == 0 && \r\n          <StyledTableRow className={classes.textTable}>\r\n            <>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"center\" className={classes.textTable}>\r\n              <Typography>There are not any purses</Typography>    \r\n            </StyledTableCell>\r\n            </>\r\n          </StyledTableRow>\r\n          }\r\n          {pursesData.map((purse) => (\r\n            <StyledTableRow key={purse.id} className={classes.textTable}>\r\n              <StyledTableCell component=\"th\" scope=\"row\" align=\"center\" className={clsx(classes.rowHeader, classes.textTable)}>\r\n                {purse.currencyCode.toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableDailyData currencyCode={purse.currencyCode}/>/{(purse.bill/CountDays()).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableMonthlyData currencyCode={purse.currencyCode}/>/{(purse.bill).toFixed(2)}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\" className={classes.textTable}>\r\n                <TableYearlyData currencyCode={purse.currencyCode}/>/{(purse.bill*12).toFixed(2)}\r\n              </StyledTableCell>\r\n            </StyledTableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport default PurseExpenseTable;"]},"metadata":{},"sourceType":"module"}